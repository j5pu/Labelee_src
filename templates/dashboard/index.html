{% extends "base.html" %}

{% block css %}
    <link href="http://nvd3.org/css/bootstrap.css" rel="stylesheet">
    <link href="http://nvd3.org/src/nv.d3.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ STATIC_URL }}css/dashboard/heatmap.css">
    <style>

        {% comment %}   * {
               font-family: 'Raleway'!important;
           }
          {% endcomment %}
        body {

            padding-top: 40px;
            padding-bottom: 0;
        }

        @media (max-width: 979px) {
            .navbar-fixed-top {
                margin-top: -40px;
                margin-bottom: 0;
            }
        }

        svg {
            height: 200px;
            width: auto;
        }
    </style>
{% endblock %}
{% block js %}
    <script>
        //AÃ‘ADIR TITULO REAL
        var enclosure_id = {{ enclosure_id }};
    </script>






    <script src="{{ STATIC_URL }}vendor/NVD3.js    Live Code examples powered by CodeMirror_files/d3.v2.js"></script>
    <!--script src="{{ STATIC_URL }}vendor/NVD3.js    Live Code examples powered by CodeMirror_files/fisheye.js"></script-->
    <script src="{{ STATIC_URL }}vendor/NVD3.js    Live Code examples powered by CodeMirror_files/nv.d3.js"></script>
    <script src="{{ STATIC_URL }}vendor/NVD3.js    Live Code examples powered by CodeMirror_files/jquery.min.js"></script>
    <script src="{{ STATIC_URL }}vendor/NVD3.js    Live Code examples powered by CodeMirror_files/bootstrap.js"></script>
    <script src="{{ STATIC_URL }}js/helpers/resource.js"></script>
    <script src="{{ STATIC_URL }}js/dashboard/heatmap.js"></script>
    <script src="{{ STATIC_URL }}js/dashboard/main.js"></script>



    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script type="text/javascript">
        var djConfig = {
            parseOnLoad: true
        };
    </script>

     <script type="text/javascript">
         var stepsByFloor = null;
      {% if currentSteps|length > 0 %}
       {% autoescape off %}
            stepsByFloor = {{ currentSteps }};
        {% endautoescape %}
      {% endif %}

    </script>





{% endblock %}

{% block content %}

    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <span class="brand" style="color:white;">Dashboard | Enclosure Name</span>

                <div class="nav-collapse">
                    <ul class="nav">
                        <li><a href="#"><i class="icon-white icon-picture"></i> Enclosure Website</a>
                        </li>
                        <li><a href="#"><i class="icon-white icon-play-circle"></i>
                            Labelee App</a></li>
                        <li><a href="#"><i class="icon-white icon-book"></i> Coupons Manager</a></li>
                    </ul>
                    <ul class="nav pull-right">
                        {% comment %}
                    <li><p class="navbar-text"><i class="icon-white icon-download"></i> Download:</p></li>
                    <li>
                        <div class="btn-group">
                            <a class="btn btn-small btn-primary"
                               href="#">PDF</a>
                            <a class="btn btn-small btn-primary" href="#">E-MAIL</a>
                        </div>
                    </li>
{% endcomment %}
                    </ul>
                </div>
                <!--/.nav-collapse -->


            </div>
        </div>
    </div>

    <!--<div class="container">-->

    <div class="container">


        <ul class="thumbnails">

            <li class="span6">
                <h2 id="total_scans">Total Scans</h2>

                <div>
                    <svg id="chart0"></svg>
                </div>
            </li>

            <li class="span6">
                <h2 id="total_routes">Total Routes</h2>

                <div>
                    <svg id="chart1"></svg>
                </div>
            </li>

            <li class="span6">
                <h2 id="scan_categories">Scans by Categories</h2>

                <div>
                    <svg id="chart2"></svg>
                </div>
            </li>

            <li class="span6">
                <h2 id="routes_categories">Routes by Categories</h2>

                <div>
                    <svg id="chart3"></svg>
                </div>
            </li>
            <li class="span6">
                <h2 id="top_scans">Top 10 Scans</h2>

                <div>
                    <svg id="chart4"></svg>
                </div>
            </li>

            <li class="span6">
                <h2 id="top_routes">Top 10 Routes</h2>

                <div>
                    <svg id="chart5"></svg>
                </div>
            </li>
            {% for floorName,floor in floorsDict.items %}
                        <li class="span6">
                        <h2 id="floor_{{ floorName }}">Planta {{ floorName }}</h2>
                        <div id="heatmapArea_{{ floorName }}" class="heatmapArea">
                        <div style="border:1px;">
                            <img id="{{ floorName }}"  src="{{ floor.imgB.url }}" onload="setHeatMap(this,{{ floorName }},{{ floor.num_cols }},{{ floor.num_rows }})">
                        </div>
                         </div>
                        </li>

         {% endfor %}

           {% comment %} <li class="span6">
                <h2 id="floor_1">Planta 1</h2>

                <div id="heatmapArea" class="heatmapArea">

                    <div id="map" style="border:1px; ">

                        <img id="imgMapa" src="/media/img/enclosures/26/floors/60_b_1.png" onload="setHeatMap(this,'1')"/>
                    </div>
                </div>

            </li>{% endcomment %}

        </ul>


    </div>

    </div>


{% endblock %}